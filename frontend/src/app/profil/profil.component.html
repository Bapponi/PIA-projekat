<div id="profil">
    <div>
        <div *ngIf="this.app.korisnik.tip == 'admin'">
            <h2>Admin panel</h2>
            <div id="adminPanel">
                <p style="margin-top: 10px; font-size: 15px;">Trenutni broj dana dozvoljenog zajma: {{this.app.perioda}}</p>
                <input type="number" [(ngModel)]="dani">
                <button (click)="promeniDane()">Promeni</button>
                <p style="margin-top: 10px; font-size: 15px;">Pregled svih korisnika, knjiga i zahteva 
                    za registraciju se nalazi na sledecem <a href="" routerLink="adminPregled" >linku</a></p>
            </div>
        </div>
        <!-- <button (click)="trenutniKorisnik()">Trenutni korisnik</button> -->
        <div id="profilInfo">
            <img src={{slikaKorisnik}} alt="slikaKorisnik" style="height: 70px; padding-left: 45px;">
                <table>
                    <tr class="red">
                        <td class="td2"></td>
                        <td class="td2" style="color: white; font-size: 18px;"
                        *ngIf="korisnik != null && korisnik.blokiran == false">Unesi novu vrednost</td>
                        <td class="td2"></td>
                    </tr>
                    <tr class="red">
                        <td class="polje td2">Korisnicko ime:</td>
                        <td class="td2 k2">
                            <input type='text' name='korisnicko_ime1' [(ngModel)]="korisnicko_ime1"  placeholder="{{this.korisnik.korisnicko_ime}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false">
                          <button (click)="azurirajKorisnickoIme()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Ime:</td>
                        <td class="td2 k2">
                            <input type='text' name='ime1' [(ngModel)]="ime1" placeholder="{{this.korisnik.ime}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false">
                          <button (click)="azurirajIme()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Prezime:</td>
                        <td class="td2 k2">
                            <input type='text' name='prezime1' [(ngModel)]="prezime1" placeholder="{{this.korisnik.prezime}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false"> 
                          <button (click)="azurirajPrezime()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Adresa:</td>
                        <td class="td2 k2">
                            <input type='text' name='adresa1' [(ngModel)]="adresa1" placeholder="{{this.korisnik.adresa}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false">
                          <button (click)="azurirajAdresu()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Kontakt:</td>
                        <td class="td2 k2">
                            <input type='text' name='kontakt1' [(ngModel)]="kontakt1"  placeholder="{{this.korisnik.kontakt}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false">
                          <button (click)="azurirajKontakt()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Mejl:</td>
                        <td class="td2 k2">
                            <input type='text' name='mejl1' [(ngModel)]="mejl1" placeholder="{{this.korisnik.mejl}}">
                        </td>
                        <td class="td2" *ngIf="korisnik != null && korisnik.blokiran == false">
                          <button (click)="azurirajMejl()">Promeni</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Nova Slika:</td>
                        <td class="td2">
                            <input type="file" accept="image/*" (change)="ubaciSlikuProf($event)">
                        </td>
                    </tr>
                    <tr *ngIf="korisnik != null && korisnik.blokiran == false">
                        <td colspan='2' class="td2">
                            <button (click)="azurirajKorisnika()" id="azurirajKorisnika" style="margin-left: 37px;">Azuriraj korisnika</button>
                        </td>
                    </tr>
                    <tr>
                        <td td colspan='2' class="td2">
                            <span style='color: #3E98C1; width: 100%; margin-left: 37px;'>{{porukaProf}}</span>
                        </td>
                    </tr>
                </table>
                <div id="promena" *ngIf="korisnik != null && korisnik.blokiran == false">
                    <p>Kliknite <a href="" routerLink="promeniLozinku" >
                        ovde</a> ukoliko zelite da promenite lozinku</p>
                        <p>Broj pročitanih knjiga u poslednjih 12 meseci: {{this.brojDatum}}<p>
                        
                        <div style="display: flex; gap: 20px; height: 25px;">
                            Broj pročitanih knjiga po žanru:
                            <select name="zanr1" [(ngModel)]="zanr1" required>
                                <option value="roman" default>roman</option>
                                <option value="strip">strip</option>
                                <option value="autobiografija">autobiografija</option>
                                <option value="pripovetka">pripovetka</option>
                                <option value="biografija">biografija</option>
                                <option value="misterija">misterija</option>
                                <option value="komedija">komedija</option>
                            </select>
                            <div>
                                <p *ngIf="zanr1 == 'roman'">{{this.brojR}}</p>
                                <p *ngIf="zanr1 == 'strip'">{{this.brojS}}</p>
                                <p *ngIf="zanr1 == 'autobiografija'">{{this.brojA}}</p>
                                <p *ngIf="zanr1 == 'pripovetka'">{{this.brojP}}</p>
                                <p *ngIf="zanr1 == 'biografija'">{{this.brojB}}</p>
                                <p *ngIf="zanr1 == 'misterija'">{{this.brojM}}</p>
                                <p *ngIf="zanr1 == 'komedija'">{{this.brojK}}</p>
                            </div>
                        </div>
                </div>
            </div>
    </div>
    
    <div>
        <div *ngIf="this.app.korisnik.tip == 'admin'">
            <h2 id="registracijaNaslov">Ubaci korisnika:</h2>
            <div id="registracija">
                <table>
                    <tr class="red">
                        <td class="polje td2">Korisnicko ime:</td>
                        <td class="td2">
                            <input type='text' name='korisnicko_ime' [(ngModel)]="korisnicko_ime" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Lozinka:</td>
                        <td class="td2">
                            <input type='password' name='lozinka' [(ngModel)]="lozinka" required placeholder="Od 8 do 12 karaktara">
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Potvrdi lozinku:</td>
                        <td class="td2">
                            <input type='password' name='potvrdi_lozinku' [(ngModel)]="potvrdi_lozinku" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Ime:</td>
                        <td class="td2">
                            <input type='text' name='ime' [(ngModel)]="ime" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Prezime:</td>
                        <td class="td2">
                            <input type='text' name='prezime' [(ngModel)]="prezime" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Adresa:</td>
                        <td class="td2">
                            <input type='text' name='adresa' [(ngModel)]="adresa" required>
                        </td>
                    </tr>
                    <tr>
                        <!-- ubaciti validaciju telefona -->
                        <td class="polje td2">Kontakt telefon:</td>
                        <td class="td2">
                            <input type='text' name='kontakt' [(ngModel)]="kontakt" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">E-mail:</td>
                        <!-- ubaciti validaciju mail-a -->
                        <td class="td2">
                            <input type='text' name='mejl' [(ngModel)]="mejl" required>
                        </td>
                    </tr>
                    <tr>
                        <td class="polje td2">Slika*:</td>
                        <td class="td2">
                            <input type="file" accept="image/*" (change)="ubaciSliku1($event)">
                        </td>
                    </tr>
                    <tr>
                        <td colspan='2' class="td2">
                            <button (click)="registrujSe()" id="ubaciKorisnika">Registruj se</button>
                        </td>
                    </tr>
                    <tr>
                        <td td colspan='2' class="td2">
                            <span style='color: #3E98C1; width: 100%;'>{{poruka1}}</span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <h2 *ngIf="this.app.korisnik.tip == 'moderator' || this.app.korisnik.tip == 'admin'" id="dodatiNaslov">Dodati knjigu:</h2>
        <div *ngIf="this.app.korisnik.tip == 'moderator' || this.app.korisnik.tip == 'admin'" id="dodavanjeKnjige">
            <table>
                <tr class="red">
                    <td class="polje td2">Naziv knjige:</td>
                    <td class="td2">
                        <input type='text' name='naziv' [(ngModel)]="naziv" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Broj autora (max 3):</td>
                    <td class="td2">
                        <input type='number' name='brojAutora' [(ngModel)]="brojAutora" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora >= 1">
                    <td class="polje td2">Autor ime:</td>
                    <td class="td2">
                        <input type='text' name='autorIme' [(ngModel)]="autorIme" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora >= 1">
                    <td class="polje td2">Autor prezime:</td>
                    <td class="td2">
                        <input type='text' name='autorPrezime' [(ngModel)]="autorPrezime" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora>=2">
                    <td class="polje td2">Autor ime2:</td>
                    <td class="td2">
                        <input type='text' name='autorIme2' [(ngModel)]="autorIme2" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora >= 2">
                    <td class="polje td2">Autor prezime2:</td>
                    <td class="td2">
                        <input type='text' name='autorPrezime2' [(ngModel)]="autorPrezime2" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora>=3">
                    <td class="polje td2">Autor ime3:</td>
                    <td class="td2">
                        <input type='text' name='autorIme3' [(ngModel)]="autorIme3" required>
                    </td>
                </tr>
                <tr class="red" *ngIf="this.brojAutora >= 3">
                    <td class="polje td2">Autor prezime3:</td>
                    <td class="td2">
                        <input type='text' name='autorPrezime3' [(ngModel)]="autorPrezime3" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Godina izdavanja:</td>
                    <td class="td2">
                        <input type='text' name='godina_izdavanja' [(ngModel)]="godina_izdavanja" 
                            placeholder="yyyy-mm-dd" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Izdavač:</td>
                    <td class="td2">
                        <input type='text' name='izdavac' [(ngModel)]="izdavac" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Jezik:</td>
                    <td class="td2">
                        <input type='text' name='jezik' [(ngModel)]="jezik" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Žanr:</td>
                    <td class="td2">
                        <select name="zanr" [(ngModel)]="zanr" required multiple>
                            <option value="roman" default>roman</option>
                            <option value="strip">strip</option>
                            <option value="autobiografija">autobiografija</option>
                            <option value="pripovetka">pripovetka</option>
                            <option value="biografija">biografija</option>
                            <option value="misterija">misterija</option>
                            <option value="komedija">komedija</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Brojno stanje:</td>
                    <td class="td2">
                        <input type='number' name='br_stanje' [(ngModel)]="br_stanje" required>
                    </td>
                </tr>
                <tr>
                    <td class="polje td2">Slika*:</td>
                    <td class="td2">
                        <input type="file" accept="image/*" (change)="ubaciSliku($event)">
                    </td>
                </tr>
                <tr>
                    <td colspan='2' class="td2">
                        <button (click)="ubaciKnjigu()" id="ubaciKnjigu">Ubaci knjigu</button>
                    </td>
                </tr>
                <tr>
                    <td td colspan='2' class="td2">
                        <span style='color: #3E98C1; width: 100%;'>{{poruka}}</span>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

